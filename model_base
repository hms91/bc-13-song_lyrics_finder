from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy import Column, Integer, String, ForeignKey, UnicodeText,

Base = declarative_base()

class DbObject(object):
	def __init__(self):
		self.engine = create_engine('sqlite:///:memory:')
		Base.metadata.create_all(engine)

	def start_session():
		Session = sessionmaker(bind = engine)
		self.session_ = Session()

		return self

	def clear_db_data():
		Base.metadata.drop_all(self.engine)
	
		Base.metadata.create_all(self.engine)

class SongDetails(Base):
	__tablename__ = 'songdetails'
    song_id = Column(Integer, primary_key=True)
    song_name = Column(String(50))
    song_lyrics = Column(UnicodeText(64))
    artist_id = Column(Integer, ForeignKey('artists.artist_id'))

class ArtistDetails(Base):
    __tablename__ = 'artistdetails'
    artist_id = Column(Integer, primary_key=True)
    artist_name = Column(String(50))